<!DOCTYPE html>
<html>

<head>
    <title>#BigReadStories</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#4CAF50">
    <link href="static/styles.css" rel="stylesheet">
</head>

<body>
    <div class="header">
        <div id="title">#BigReadStories</div>
    </div>
    <div class="content" id="content">
        <div id="info">
            <p style="font-weight: 700;padding-left:8pt;"><em>“With the idea that every individual wants to live a meaningful and memorable life, how do we best choose to remember our past?”</em></p>
            <p>Photographs are meant to capture a moment in time; it encapsulates that moment. Photographs contain all the emotions and feelings as they were when that moment of time was solidified in time.</p>

            <p>When you look at the blank, somewhat distorted polaroid I assume is in front of you, what do you see? What moment is that photograph capturing? That blank photograph is capturing whatever you see; it means whatever you want it to mean.</p>

            <p>With this said, I ask you to upload a picture, here to this website, to create your own "polaroid". Upload your "polaroid" on Instagram with <em>#BigReadStories</em> to share it with others, and view it along side others on the display I again assume is in front of you.</p>
            <p><em>Thank You</em></p>
        </div>
        <br>
        <label id="upload">
            <input type="file" id="fButton" required>
            <span>Upload Photo</span>
        </label>
        <div id="editor">
            <div id="polaroid-frame">
                <div id="pic-container">
                    <img id="uploaded-image">
                </div>
                <hr>
                <div id="hashtag">#BigReadStories</div>
            </div>
        </div>
        <br>
    </div>
    <br>
</body>
<script src="static/html2image.js"></script>
<script>
    (function (root, factory) {
        if (typeof define === 'function' && define.amd) {
            define([], factory);
        } else if (typeof exports === 'object') {
            module.exports = factory();
        } else {
            root.download = factory();
        }
    }(this, function () {
        return function download(data, strFileName, strMimeType) {
            var self = window,
                u = "application/octet-stream",
                m = strMimeType || u,
                x = data,
                D = document,
                a = D.createElement("a"),
                z = function (a) {
                    return String(a);
                },
                B = (self.Blob || self.MozBlob || self.WebKitBlob || z);
            B = B.call ? B.bind(self) : Blob;
            var fn = strFileName || "download",
                blob, fr;
            if (String(this) === "true") {
                x = [x, m];
                m = x[0];
                x = x[1];
            }
            if (String(x).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/)) {
                return navigator.msSaveBlob ? navigator.msSaveBlob(d2b(x), fn) : saver(x);
            }
            blob = x instanceof B ? x : new B([x], {
                type: m
            });

            function d2b(u) {
                var p = u.split(/[:;,]/),
                    t = p[1],
                    dec = p[2] == "base64" ? atob : decodeURIComponent,
                    bin = dec(p.pop()),
                    mx = bin.length,
                    i = 0,
                    uia = new Uint8Array(mx);
                for (i; i < mx; ++i) uia[i] = bin.charCodeAt(i);
                return new B([uia], {
                    type: t
                });
            }

            function saver(url, winMode) {
                if ('download' in a) {
                    a.href = url;
                    a.setAttribute("download", fn);
                    a.innerHTML = "downloading...";
                    D.body.appendChild(a);
                    setTimeout(function () {
                        a.click();
                        D.body.removeChild(a);
                        if (winMode === true) {
                            setTimeout(function () {
                                self.URL.revokeObjectURL(a.href);
                            }, 250);
                        }
                    }, 66);
                    return true;
                }
                if (typeof safari !== "undefined") {
                    url = "data:" + url.replace(/^data:([\w\/\-\+]+)/, u);
                    if (!window.open(url)) {
                        if (confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")) {
                            location.href = url;
                        }
                    }
                    return true;
                }
                var f = D.createElement("iframe");
                D.body.appendChild(f);
                if (!winMode) {
                    url = "data:" + url.replace(/^data:([\w\/\-\+]+)/, u);
                }
                f.src = url;
                setTimeout(function () {
                    D.body.removeChild(f);
                }, 333);
            }
            if (navigator.msSaveBlob) {
                return navigator.msSaveBlob(blob, fn);
            }
            if (self.URL) {
                saver(self.URL.createObjectURL(blob), true);
            } else {
                if (typeof blob === "string" || blob.constructor === z) {
                    try {
                        return saver("data:" + m + ";base64," + self.btoa(blob));
                    } catch (y) {
                        return saver("data:" + m + "," + encodeURIComponent(blob));
                    }
                }
                fr = new FileReader();
                fr.onload = function (e) {
                    saver(this.result);
                };
                fr.readAsDataURL(blob);
            }
            return true;
        };
    }));
</script>
<script src="static/script.js"></script>

</html>